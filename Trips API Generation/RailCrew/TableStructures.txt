USE RailCrew
GO

/****** Object:  Table dbo.Trip    Script Date: 5/6/2021 8:22:24 AM ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE dbo.Trip(
	TripID BIGINT IDENTITY(11) NOT FOR REPLICATION NOT NULL
	Company NVARCHAR(50) NOT NULL
	MasterClientID BIGINT NOT NULL
	ClientID BIGINT NULL
	TripNumber NVARCHAR(50) NULL
	ControlNumber NVARCHAR(50) NULL
	LocationID BIGINT NOT NULL
	PickUpPointID BIGINT NOT NULL
	DropOffPointID BIGINT NOT NULL
	PickupDateTime DATETIME NOT NULL
	Distance DECIMAL(18 0) NOT NULL
	DriveTime INT NOT NULL
	TripType BIGINT NOT NULL
	ASAP BIT NOT NULL
	IsDYVPossible BIT NOT NULL
	EstAssistHours INT NOT NULL
	LeadLocomotive NVARCHAR(50) NULL
	RequesterName NVARCHAR(50) NULL
	RequestorPhone NCHAR(15) NULL
	Comments NVARCHAR(MAX) NULL
	DispatcherNotes NVARCHAR(MAX) NULL
	DriverID BIGINT NULL
	SubContractorID BIGINT NULL
	IsAwaitingDispatch BIT NOT NULL
	IsWaitingResponse BIT NOT NULL
	IsTripClosed BIT NOT NULL
	VehicleID BIGINT NULL
	DriverDispatchTime DATETIME NULL
	TimeZoneID BIGINT NULL
	OverrideManager NVARCHAR(50) NULL
	CallDateTime DATETIME NULL
	TrainNumber VARCHAR(50) NULL
	GetNextDriverReason VARCHAR(250) NULL
	AuditUserID BIGINT NULL
	AuditLastUpdate DATETIME NULL
	CalledDriverDateTime DATETIME NULL
	GetNextVehicleReason VARCHAR(250) NULL
	DispatchedByUserID BIGINT NULL
	DispatchedDateTime DATETIME NULL
	IsAmended BIT NOT NULL
	CancelReason VARCHAR(100) NULL
	Cancelled BIT NOT NULL
	CancelReasonID TINYINT NULL
	IsMPV BIT NULL
	OrigPickupDateTime DATETIME NULL
	DriverChangeReasonID BIGINT NULL
	VehicleChangeReasonID BIGINT NULL
	HasBackhaul BIT NULL
	RecurringTripID BIGINT NULL
	PickupAdHocLatitude DECIMAL(18 10) NULL
	PickupAdHocLongitude DECIMAL(18 10) NULL
	PickupAdHocID VARCHAR(50) NULL
	DropoffAdHocLatitude DECIMAL(18 10) NULL
	DropoffAdHocLongitude DECIMAL(18 10) NULL
	DropoffAdHocID VARCHAR(50) NULL
	ParentTripID BIGINT NULL
	ShortKey CHAR(6) NULL
 CONSTRAINT PK_Trip PRIMARY KEY CLUSTERED 
(
	TripID ASC
)WITH (PAD_INDEX = OFF STATISTICS_NORECOMPUTE = OFF IGNORE_DUP_KEY = OFF ALLOW_ROW_LOCKS = ON ALLOW_PAGE_LOCKS = ON) ON PRIMARY
) ON PRIMARY TEXTIMAGE_ON PRIMARY
GO


USE RailCrew
GO

/****** Object:  Table dbo.TripReview    Script Date: 5/6/2021 8:23:06 AM ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE dbo.TripReview(
	TripReviewID BIGINT IDENTITY(11) NOT FOR REPLICATION NOT NULL
	TripID BIGINT NOT NULL
	Approved BIT NULL
	ApprovedDateTime DATETIME NULL
	ApprovedByUserID BIGINT NULL
	TripMiles DECIMAL(18 2) NULL
	TripWaitMinutes DECIMAL(18 2) NULL
	InvoiceID BIGINT NULL
	PayrollID BIGINT NULL
	AssistMiles DECIMAL(18 2) NULL
	IsCanceled BIT NOT NULL
	CancelCode INT NOT NULL
	IsDispatchApproved BIT NOT NULL
	Ignore BIT NOT NULL
	FailReason VARCHAR(MAX) NULL
	Repo BIT NOT NULL
	CreateDateTime DATETIME NULL
	DispatchApprovedDateTime DATETIME NULL
	FailReportIntervalDT DATETIME NULL
	PendingReportIntervalDT DATETIME NULL
	PendingReportIntervalFMDT DATETIME NULL
	OverRide BIT NOT NULL
	ApproveNotes VARCHAR(MAX) NULL
	ITNotes VARCHAR(MAX) NULL
	ReviewToggle BIT NOT NULL
	AcceptedB2B BIT NOT NULL
	B2BErrorMessage VARCHAR(MAX) NULL
	LitmusPassID INT NULL
	LitmusRunCount BIGINT NULL
	LitmusPassDT DATETIME NULL
	LitmusFirstRunDT DATETIME NULL
	B2BMessageName VARCHAR(50) NULL
	DispatchApprovalReturnReason NVARCHAR(MAX) NULL
	LateReason VARCHAR(100) NULL
	LitmusOverrideReason VARCHAR(MAX) NULL
	DriverCalledDateTime DATETIME NULL
	DriverCalledByUser VARCHAR(50) NULL
	ForcedReviewCode INT NULL
	MPV BIT NULL
	MPVLitmusHold BIT NULL
	AcceptedB2BDateTime DATETIME NULL
	OnTime BIT NULL
	IgnoreForOTP BIT NULL
	OTPLateTime DATETIME NULL
	OTPArrivalTime DATETIME NULL
	AuditUserID INT NULL
	AuditLastUpdate DATETIME NULL
	DriveCamSent BIT NULL
	SheetReceivedDateTime DATETIME NULL
	SheetReceivedByUser VARCHAR(50) NULL
	ClosedBy VARCHAR(50) NULL
	Mapped BIT NULL
	ReOpenedBy INT NULL
	ReOpenedDateTime DATETIME NULL
	ClientInfo VARCHAR(50) NULL
	BookerEmail VARCHAR(100) NULL
	DriverETA DATETIME NULL
	SendInfoStatus INT NULL
	Verified BIT NULL
 CONSTRAINT PK_TripReview PRIMARY KEY CLUSTERED 
(
	TripReviewID ASC
)WITH (PAD_INDEX = OFF STATISTICS_NORECOMPUTE = OFF IGNORE_DUP_KEY = OFF ALLOW_ROW_LOCKS = ON ALLOW_PAGE_LOCKS = ON) ON PRIMARY
) ON PRIMARY TEXTIMAGE_ON PRIMARY
GO


